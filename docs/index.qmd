---
title: "index"
format: html
editor_options: 
  chunk_output_type: console
---

```{r}
library(tidyverse)
library(readr)
library(here)


```

```{r}
read_csv(here::here("daten/raw/EDB_16_18_Jh_Stand_2024_05_14.csv"))

```

# Einleitung

## Daten

Die Datensammlung enthält in standardisierter Kurzform **alle Eheeinträge, die in den überlieferten Kirchenbüchern der Kirchgemeinden des Kantons Zürich seit der Reformation verzeichnet sind**.

Siehe auch: <https://archives-quickaccess.ch/search/stazh/edb>\
\
Die Datensammlung wurde ursprünglich von einem privaten Genealogen erstellt. Nach dem Erwerb durch das Staatsarchiv wurden die Einträge kontrolliert, ergänzt und 2015 und 2019 in zwei Schritten online publiziert.

**Die Schreibweise der Familiennamen und der Vornamen sowie der Ortsnamen wurde normalisiert**, damit sie recherchierbar sind. Eine Autocomplete-Funktion unterstützt die Recherche zusätzlich. Die **Originalschreibweise** ist nur in ausgewählten Fällen dokumentiert (recherchierbar über die Suche im Volltext). **Namensvarianten** sind meist unter einer einzigen Form zusammengefasst, zum Beispiel einheitlich Meier, Bosshard oder Weiss auch für Familien, deren Name heute amtlich Meyer, Bosshart oder Wyss lautet.\
\
Analyseziele

# Daten Aufbereitung

```{r}
Ehedaten_16_bis_18Jh <- read_csv(here::here("daten/raw/EDB_16_18_Jh_Stand_2024_05_14.csv"))
```

```         
```

```{r}
Ehedaten_16_bis_18Jh <- Ehedaten_16_bis_18Jh |> 
  select(Nachname_Mann, Vorname_Mann, Nachname_Frau, Vorname_Frau, Herkunft_Mann, Herkunft_Frau, Zusatzinfo_Mann, Zusatzinfo_Frau, Datum_Von, Kirchgemeinde, ID)

Ehedaten <- Ehedaten_16_bis_18Jh |> 
  rename(Datum = Datum_Von)

```

```{r}
Kirchgemeinden <- Ehedaten |>
  count(Kirchgemeinde) |> 
  arrange(desc(n))
```

```{r}
Ehedaten |> 
  distinct(Vorname_Frau)

Frau_Vornamen <- Ehedaten |> 
  count(Vorname_Frau)

Mann_Vornamen <- Ehedaten |> 
  count(Vorname_Mann)
```

# Daten Visualisierung

Welches sind die Top 15 der Vornamen von Frauen bzw. Männern?

Frauen:

```{r}
TopFrau <- Frau_Vornamen |> 
  group_by(Vorname_Frau) |> 
  summarise(Anzahl = sum(n)) |> 
  arrange(desc(Anzahl)) |> 
  top_n(15, Anzahl) |> 
  mutate(Prozent = Anzahl/sum(Anzahl)*100)

ggplot(data = TopFrau,
       mapping = aes(x = Prozent,
                     y = reorder(Vorname_Frau, Anzahl)))+
  
  geom_col()+
  labs(title = "Die 15 häufigsten Vornamen von Frauen",
       subtitle = "16. - 18. Jh.")
```

Männer:

```{r}

TopMann <- Mann_Vornamen |> 
  group_by(Vorname_Mann) |> 
  summarise(Anzahl = sum(n)) |> 
  arrange(desc(Anzahl)) |> 
  top_n(10, Anzahl)
```
